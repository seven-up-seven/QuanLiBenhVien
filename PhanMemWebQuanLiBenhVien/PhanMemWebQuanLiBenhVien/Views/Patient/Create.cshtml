@model Patient
@{
    ViewData["Title"] = "Thêm Bệnh Nhân";
}
<link rel="stylesheet" href="~/css/Patient/Create.css"/>
<div class="container mt-4">
    <div class="row my-2">
        <div class="col text-primary">
            <h2>Thêm bệnh nhân mới</h2>
        </div>
    </div>
    <form asp-action="Create" asp-controller="Patient" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="Name">Tên bệnh nhân</label>
            <span asp-validation-for="Name" class="text-danger"></span>
            <input asp-for="Name" class="form-control" placeholder="Nhập tên bệnh nhân" />
        </div>
        <div class="form-group">
            <label for="CCCD">CCCD</label>
            <span asp-validation-for="CCCD" class="text-danger"></span>
            <input asp-for="CCCD" class="form-control" placeholder="Nhập CCCD bệnh nhân" />
        </div>
        <div class="form-group">
            <label for="DateOfBirth">Ngày sinh</label>
            <span asp-validation-for="DateOfBirth" class="text-danger"></span>
            <input asp-for="DateOfBirth" class="form-control" placeholder="Nhập ngày sinh bệnh nhân" />
        </div>
        <div class="form-group">
            <label for="Gender">Giới tính</label>
            <select asp-for="Gender" asp-items="@ViewBag.Genders" class="form-control"></select>
        </div>
        <div class="form-group">
            <label for="PhoneNumber">Số điện thoại</label>
            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
            <input asp-for="PhoneNumber" class="form-control" placeholder="Nhập số điện thoại bệnh nhân" />
        </div>
        
        <div class="form-group">
            <label for="Address">Địa chỉ</label>
            <span asp-validation-for="Address" class="text-danger"></span>
            <input asp-for="Address" class="form-control" placeholder="Nhập địa chỉ bệnh nhân" />
        </div>
        <div class="form-group" hidden>
            <input  asp-for="TrangThaiBenhAn" value="@PhanMemWebQuanLiBenhVien.Ultilities.Utilities.ETrangThaiBenhAn.ketthucchuatri"/>
        </div>
        <div class="form-group">
            <label asp-for="ProfesisonId">Lựa chọn khoa điều trị</label>
            <select asp-for="ProfesisonId" class="form-control" asp-items="@ViewBag.Professions">
                <option value="">-- Chọn --</option>
            </select>
        </div>
        @* <div class="form-group" id="DoctorGroup" style="display: none">
            <label for="DoctorId">Bác sĩ phụ trách</label>
            <select asp-for="DoctorId" class="form-control" asp-items="@ViewBag.doctorlist" id="DoctorGroup"  disabled></select>
        </div>
        <div class="form-group" id="NurseGroup" style="display: none">
            <label for="NurseId">Y tá phụ trách</label>
            <select asp-for="NurseId" class="form-control" asp-items="@ViewBag.nurselist" id="NurseGroup" disabled></select>
        </div>
        <div class="form-group" id="PhongBenhGroup" style="display: none">
            <label for="PhongBenhId">Phòng bệnh</label>
            <select asp-for="PhongBenhId" class="form-control" asp-items="@ViewBag.phongbenhlist" id="PhongBenhGroup" disabled></select>
        </div>
        <div class="form-group" id="PhongKhamGroup" style="display: none">
            <label for="PhongKhamId">Phòng khám</label>
            <select asp-for="PhongKhamId" class="form-control" asp-items="@ViewBag.phongkhamlist" id="PhongKhamGroup" disabled></select>
        </div> *@
        <button type="submit" class="btn btn-primary">
            <h4>Thêm</h4>
        </button>
    </form>
</div>

@* 
<script>
    document.getElementById("TrangThaiDieuTri").addEventListener("change", function() {
        const selectedValue = this.value; 
        const DoctorGroup = document.getElementById("DoctorGroup");
        const phongKhamGroup = document.getElementById("PhongKhamGroup");
        const phongBenhGroup = document.getElementById("PhongBenhGroup");
        const NurseGroup = document.getElementById("NurseGroup");

        const DoctorSelect = DoctorGroup.querySelector("select");
        const phongKhamSelect = phongKhamGroup.querySelector("select");
        const phongBenhSelect = phongBenhGroup.querySelector("select");
        const NurseSelect = NurseGroup.querySelector("select");

        DoctorGroup.style.display = "none";
        DoctorSelect.setAttribute("disabled", "disabled");
        phongKhamGroup.style.display = "none";
        phongKhamSelect.setAttribute("disabled", "disabled");
        phongBenhGroup.style.display = "none";
        phongBenhSelect.setAttribute("disabled", "disabled");
        NurseGroup.style.display = "none";
        NurseSelect.setAttribute("disabled", "disabled");

        if (selectedValue === "nhapvien") {
            DoctorGroup.style.display = "block";
            DoctorSelect.removeAttribute("disabled");
            NurseGroup.style.display = "block";
            NurseSelect.removeAttribute("disabled");
            phongBenhGroup.style.display = "block";
            phongBenhSelect.removeAttribute("disabled");
        } else if (selectedValue === "chikham") {
            phongKhamGroup.style.display = "block";
            phongKhamSelect.removeAttribute("disabled");
        }
    });
</script> *@
